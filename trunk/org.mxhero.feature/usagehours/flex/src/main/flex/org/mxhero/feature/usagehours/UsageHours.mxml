<?xml version="1.0" encoding="utf-8"?>
<mx:Module xmlns:fx="http://ns.adobe.com/mxml/2009" 
		   xmlns:s="library://ns.adobe.com/flex/spark" 
		   xmlns:mx="library://ns.adobe.com/flex/mx" 		   layout="vertical"
		   creationComplete="creationCompleteHandler(event)"
		   verticalGap="20"
		   paddingTop="30"
		   implements="org.mxhero.console.commons.feature.IFeature" xmlns:component="org.mxhero.console.commons.feature.component.*" xmlns:fdg="org.mxhero.console.mails.fdg.*">
	
	<fx:Declarations>
		<s:RadioButtonGroup id="actionType"/>
	</fx:Declarations>
	
	<fx:Script>
		<![CDATA[
			import mx.collections.ArrayCollection;
			import mx.events.DragEvent;
			import mx.events.FlexEvent;
			import mx.managers.DragManager;
			import mx.messaging.messages.ErrorMessage;
			import mx.utils.StringUtil;
			import mx.validators.ValidationResult;
			
			import org.mxhero.console.commons.feature.FeatureRuleProperty;
			import org.mxhero.console.commons.feature.IFeature;
			import org.mxhero.console.commons.feature.PropertyHelper;
			import org.mxhero.console.commons.utils.Regex;
			import org.mxhero.console.commons.utils.RteHtmlParser;
			
			public var validationError:String;
			
			private static const MODULE_NAME:String = "usagehours";
			
			private var initialProperties:ArrayCollection;
			
			[Bindable]
			public var emails:ArrayCollection=new ArrayCollection();
			
			protected function creationCompleteHandler(event:FlexEvent):void
			{
				styleManager.loadStyleDeclarations("styles/mxhero.swf",true,false,ApplicationDomain.currentDomain);
				loadData();
			}
			
			
			public function isValid():Boolean{

				return true;
			}
			
			public function setProperties(data:ArrayCollection):void{
				initialProperties=data;
			}
			
			private function loadData():void{
				if(initialProperties!=null){

				}
			}
			
			public function getProperties():ArrayCollection{
				var properties:ArrayCollection = new ArrayCollection();

				return properties;
			}
			
			public function getValidationError():String{
				return this.validationError;
			}
			
			public function fixedTo():Boolean{
				return false;
			}
			
			public function fixedFrom():Boolean{
				return false;
			}
			
			public function fixedToValue():String{
				return "";
			}
			
			public function fixedFromValue():String{
				return "";
			}
			
			public function set applicationContext(ap:Object):void{
			}
			
			public function get applicationContext():Object{
				return null;
			}
		]]>
	</fx:Script>
	
	<fx:Metadata>
		[ResourceBundle("usagehours")]
	</fx:Metadata>
	
	<s:Label text="{resourceManager.getString(MODULE_NAME,'first.title')}" fontSize="16" fontWeight="bold"/>
	
	<s:VGroup height="100%" width="400" verticalAlign="bottom" paddingLeft="20">
		<s:Label text="{resourceManager.getString(MODULE_NAME,'check.hours.label')}"/>
		
	</s:VGroup>
	
	<s:Label text="{resourceManager.getString(MODULE_NAME,'second.title')}" fontSize="16" fontWeight="bold"/>
	
	<s:VGroup paddingLeft="20" gap="20">
		<s:RadioButton id="discardRb" 
					groupName="actionType"
					label="{resourceManager.getString(MODULE_NAME,'action.discard.checkbox.label')}"/>
		<s:VGroup>
			<s:RadioButton id="returnRb" 
						   groupName="actionType"
						   label="{resourceManager.getString(MODULE_NAME,'action.block.checkbox.label')}"
						   selected="true"/>
			<mx:Spacer/>
			<s:VGroup paddingLeft="18">
				<mx:RichTextEditor id="rte" 
								   width="400"
								   enabled="{returnRb.selected}"
								   title="{resourceManager.getString(MODULE_NAME,'action.block.message.title')}"
								   text="{resourceManager.getString(MODULE_NAME,'action.return.textarea.text')}">
				</mx:RichTextEditor>			
			</s:VGroup>
		</s:VGroup>
		<s:RadioButton id="quarantineRb" 
					   groupName="actionType"
					   label="{resourceManager.getString(MODULE_NAME,'action.quarantine.checkbox.label')}"/>
		<s:VGroup>
			<s:RadioButton id="alertRb" 
						   groupName="actionType"
						   label="{resourceManager.getString(MODULE_NAME,'action.alert.checkbox.label')}"/>
			<s:HGroup>
				<s:Label text="{resourceManager.getString(MODULE_NAME,'action.alert.email.label')}"/>
				<s:VGroup paddingLeft="18">
					<s:TextInput id="emailTi" enabled="{alertRb.selected}"/>
				</s:VGroup>
			</s:HGroup>
		</s:VGroup>
	</s:VGroup>
</mx:Module>
