<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" 
		 xmlns:categorylist="org.mxhero.console.commons.component.categorylist.*" 
		 xmlns:parsley="http://www.spicefactory.org/parsley"
		 enabled="{!model.isUpdating}"
		 currentState="{model.state}">
	<fx:Declarations>
		<parsley:Configure/>
	</fx:Declarations>
	
	<fx:Script>
		<![CDATA[
			import org.mxhero.console.features.application.resources.FeaturesListProperties;
			
			[Inject]
			[Bindable]
			public var model:AllFeaturesListPM;
		]]>
	</fx:Script>
	
	<s:states>
		<s:State name="loaded"/>
		<s:State name="preloading"/>
	</s:states>
	
	<s:layout>
		<s:VerticalLayout horizontalAlign="center" verticalAlign="middle"/>
	</s:layout>
	
	<categorylist:CategoryList id="featuresList" 
							   categoryList="{model.categories}" 
							   width="100%" height="100%" 
							   titleLabelFunction="{featuresList.model.getExtendedTitle}"
							   defaultTitle="{resourceManager.getString(FeaturesListProperties.NAME,FeaturesListProperties.DEFAULT_TITLE)}"
							   defaultDescription="{resourceManager.getString(FeaturesListProperties.NAME,FeaturesListProperties.DEFAULT_DESCRIPTION)}"
							   columnsWidth="140"
							   orderChilds="true"
							   clickHandler="{model.childClickHandler}"
							   excludeFrom="preloading"/>
	<mx:ProgressBar width="300" 
					label="{model.loading}"
					excludeFrom="loaded" 
					indeterminate="true"
					labelPlacement="center"/>
</s:Group>
