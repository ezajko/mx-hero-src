<?xml version="1.0" encoding="utf-8"?>
<s:TileGroup xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx"
		 width="100%"
		 columnWidth="{model.columnsWidth}"
		 columnAlign="left"
		 horizontalGap="5">
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	
	<fx:Script>
		<![CDATA[
			import mx.collections.ArrayCollection;
			import mx.collections.Sort;
			import mx.collections.SortField;
			import mx.controls.LinkButton;

			[Bindable]
			public var model:CategoryListPM;
			
			private var _links:Object;

			[Bindable]
			public function get links():Object
			{
				return _links;
			}

			public function set links(value:Object):void
			{
				this.removeAllElements();
				if(value!=null){
					
					if(model.orderChilds){
						if(value is Array){
							value = new ArrayCollection(value as Array);
						}
						if(!(value is ArrayCollection)){
							return;
						}
						var dataSortField:SortField = new SortField();
						dataSortField.name="label";
						dataSortField.caseInsensitive=false;
						var alphaSort:Sort = new Sort();
						alphaSort.fields = [dataSortField];
						
						(value as ArrayCollection).sort=alphaSort;
						(value as ArrayCollection).refresh();
					}
					for(var child:Object in value){
						var childView:Child = new Child();
						childView.model=model;
						childView.child=value[child];
						this.addElement(childView);
					}
					this.invalidateDisplayList();
				}
				_links = value;
			}

		]]>
	</fx:Script>
</s:TileGroup>
